/******/ (function() { // webpackBootstrap
var __webpack_exports__ = {};
/*!*********************************!*\
  !*** ./src/entry/background.js ***!
  \*********************************/
const doBlock = (badgeText, tabId) => {
  if (badgeText === "SHOW") {
    chrome.scripting.executeScript({
      target: {
        tabId: tabId
      },
      function: () => {
        const relatedDiv = document.querySelector("#related");
        if (relatedDiv) {
          relatedDiv.style.display = "";
        }
      }
    });
  } else {
    chrome.scripting.executeScript({
      target: {
        tabId: tabId
      },
      function: () => {
        const relatedDiv = document.querySelector("#related");
        if (relatedDiv) {
          relatedDiv.style.display = "none";
        }
      }
    });
  }
};
chrome.tabs.onCreated.addListener(tab => {
  chrome.storage.sync.get("badgeText", data => {
    const badgeText = data.badgeText || "SHOW";
    chrome.storage.sync.set({
      badgeText
    });
    chrome.action.setBadgeText({
      tabId: tab.id,
      text: badgeText
    });
  });
});
chrome.action.onClicked.addListener(tab => {
  chrome.storage.sync.get("badgeText", data => {
    const badgeText = data.badgeText === "----" ? "SHOW" : "----";
    chrome.storage.sync.set({
      badgeText
    });
    chrome.action.setBadgeText({
      tabId: tab.id,
      text: badgeText
    });
    if (tab.url.includes("youtube.com")) {
      doBlock(badgeText, tab.id);
    }
  });
});
chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {
  // console.log(tab.url);
  if (tab.url && tab.url.includes("youtube.com/watch?")) {
    chrome.storage.sync.get("badgeText", data => {
      const badgeText = data.badgeText || "SHOW";
      chrome.action.setBadgeText({
        tabId: tabId,
        text: badgeText
      });
      setTimeout(() => {
        doBlock(badgeText, tabId);
      }, 1000);
    });
  }
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsV0FBVyxFQUFHQyxJQUFJLElBQUs7TUFDN0MsTUFBTW5CLFNBQVMsR0FBR21CLElBQUksQ0FBQ25CLFNBQVMsSUFBSSxNQUFNO01BQzFDRSxNQUFNLENBQUNtQixNQUFNLENBQUNDLFlBQVksQ0FBQztRQUFFckIsS0FBSyxFQUFFQSxLQUFLO1FBQUV1QixJQUFJLEVBQUV4QjtNQUFVLENBQUMsQ0FBQztNQUM3RDhCLFVBQVUsQ0FBQyxNQUFNO1FBQ2YvQixPQUFPLENBQUNDLFNBQVMsRUFBRUMsS0FBSyxDQUFDO01BQzNCLENBQUMsRUFBRSxJQUFJLENBQUM7SUFDVixDQUFDLENBQUM7RUFDSjtBQUNGLENBQUMsQ0FBQyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW91dHViZS1zdG9wLXJlY29tbWFuZGluZy8uL3NyYy9lbnRyeS9iYWNrZ3JvdW5kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRvQmxvY2sgPSAoYmFkZ2VUZXh0LCB0YWJJZCkgPT4ge1xyXG4gIGlmIChiYWRnZVRleHQgPT09IFwiU0hPV1wiKSB7XHJcbiAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xyXG4gICAgICB0YXJnZXQ6IHsgdGFiSWQ6IHRhYklkIH0sXHJcbiAgICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVsYXRlZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVsYXRlZFwiKTtcclxuICAgICAgICBpZiAocmVsYXRlZERpdikge1xyXG4gICAgICAgICAgcmVsYXRlZERpdi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xyXG4gICAgICB0YXJnZXQ6IHsgdGFiSWQ6IHRhYklkIH0sXHJcbiAgICAgIGZ1bmN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVsYXRlZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVsYXRlZFwiKTtcclxuICAgICAgICBpZiAocmVsYXRlZERpdikge1xyXG4gICAgICAgICAgcmVsYXRlZERpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNocm9tZS50YWJzLm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcigodGFiKSA9PiB7XHJcbiAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJiYWRnZVRleHRcIiwgKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGJhZGdlVGV4dCA9IGRhdGEuYmFkZ2VUZXh0IHx8IFwiU0hPV1wiO1xyXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeyBiYWRnZVRleHQgfSk7XHJcbiAgICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRhYklkOiB0YWIuaWQsIHRleHQ6IGJhZGdlVGV4dCB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5jaHJvbWUuYWN0aW9uLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcigodGFiKSA9PiB7XHJcbiAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJiYWRnZVRleHRcIiwgKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGJhZGdlVGV4dCA9IGRhdGEuYmFkZ2VUZXh0ID09PSBcIi0tLS1cIiA/IFwiU0hPV1wiIDogXCItLS0tXCI7XHJcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7IGJhZGdlVGV4dCB9KTtcclxuICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGFiSWQ6IHRhYi5pZCwgdGV4dDogYmFkZ2VUZXh0IH0pO1xyXG4gICAgaWYgKHRhYi51cmwuaW5jbHVkZXMoXCJ5b3V0dWJlLmNvbVwiKSkge1xyXG4gICAgICBkb0Jsb2NrKGJhZGdlVGV4dCwgdGFiLmlkKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5jaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoKHRhYklkLCBjaGFuZ2VJbmZvLCB0YWIpID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyh0YWIudXJsKTtcclxuICBpZiAodGFiLnVybCAmJiB0YWIudXJsLmluY2x1ZGVzKFwieW91dHViZS5jb20vd2F0Y2g/XCIpKSB7XHJcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChcImJhZGdlVGV4dFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBiYWRnZVRleHQgPSBkYXRhLmJhZGdlVGV4dCB8fCBcIlNIT1dcIjtcclxuICAgICAgY2hyb21lLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0YWJJZDogdGFiSWQsIHRleHQ6IGJhZGdlVGV4dCB9KTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgZG9CbG9jayhiYWRnZVRleHQsIHRhYklkKVxyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbiJdLCJuYW1lcyI6WyJkb0Jsb2NrIiwiYmFkZ2VUZXh0IiwidGFiSWQiLCJjaHJvbWUiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwidGFyZ2V0IiwiZnVuY3Rpb24iLCJyZWxhdGVkRGl2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5IiwidGFicyIsIm9uQ3JlYXRlZCIsImFkZExpc3RlbmVyIiwidGFiIiwic3RvcmFnZSIsInN5bmMiLCJnZXQiLCJkYXRhIiwic2V0IiwiYWN0aW9uIiwic2V0QmFkZ2VUZXh0IiwiaWQiLCJ0ZXh0Iiwib25DbGlja2VkIiwidXJsIiwiaW5jbHVkZXMiLCJvblVwZGF0ZWQiLCJjaGFuZ2VJbmZvIiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=